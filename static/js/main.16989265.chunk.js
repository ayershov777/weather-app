(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{35:function(t,e,r){},36:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r(22),c=r.n(a),s=r(9),i=r(23),u=r(6),o=r.n(u),h=r(7),p=r(11),l=r(25),d=r(15),j=r(20),f=r(24),b="api.openweathermap.org/data/2.5/weather",x="api.openweathermap.org/data/2.5/forecast",m="bef59072dc4f5e16c08bbc9b055f4516";function w(t){return v.apply(this,arguments)}function v(){return(v=Object(h.a)(o.a.mark((function t(e){var r,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W(e);case 2:if(200===(r=t.sent).cod){t.next=5;break}return t.abrupt("return",{message:r.message});case 5:return t.next=7,I(e);case 7:return n=t.sent,t.abrupt("return",{todayWeather:L(r),dailyWeather:F(n)});case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(){return y.apply(this,arguments)}function y(){return(y=Object(h.a)(o.a.mark((function t(){var e,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N();case 2:return e=t.sent,t.next=5,S();case 5:return r=t.sent,t.abrupt("return",{todayWeather:L(e),dailyWeather:F(r)});case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(){return(g=Object(h.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=5;break}return t.next=4,w(e);case 4:return t.abrupt("return",t.sent);case 5:return t.next=7,O();case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(0),alert("Weather App was unable to obtain weather data"),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function N(){return k.apply(this,arguments)}function k(){return(k=Object(h.a)(o.a.mark((function t(){var e,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(b);case 2:return e=t.sent,t.next=5,fetch(e);case 5:return r=t.sent,t.next=8,r.json();case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function W(t){return _.apply(this,arguments)}function _(){return(_=Object(h.a)(o.a.mark((function t(e){var r,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=P(b,e),t.next=3,fetch(r);case 3:return n=t.sent,t.next=6,n.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(){return D.apply(this,arguments)}function D(){return(D=Object(h.a)(o.a.mark((function t(){var e,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(x);case 2:return e=t.sent,t.next=5,fetch(e);case 5:return r=t.sent,t.next=8,r.json();case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function I(t){return E.apply(this,arguments)}function E(){return(E=Object(h.a)(o.a.mark((function t(e){var r,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=P(x,e),t.next=3,fetch(r);case 3:return n=t.sent,t.next=6,n.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function F(t){var e=function(t){var e=new Date(t.list[0].dt_txt).getHours()>=12;return t.list.reduce((function(t,r,n){switch(!0){case 0===n&&e:return[r.dt_txt];case function(t){var e=t.split(" ")[1];return 12===parseInt(e.split(":")[0])}(r.dt_txt):return[].concat(Object(f.a)(t),[r.dt_txt]);default:return t}}),[]).slice(0,5)}(t),r=function(t,e){var r=t.reduce((function(t,e){var r=new Date(e).toDateString();return Object(j.a)(Object(j.a)({},t),{},Object(d.a)({},r,e))}),{}),n={};return e.list.forEach((function(t){var e=new Date(t.dt_txt).toDateString(),a=r[e];if(n[a]){var c=n[a];c.high=Math.max(c.high,t.main.temp_max),c.low=Math.min(c.low,t.main.temp_min)}else n[a]={high:t.main.temp_max,low:t.main.temp_min}})),n}(e,t);return t.list.filter((function(t){return e.includes(t.dt_txt)})).map((function(t,e){return{date:q(t.dt_txt),high:Math.round(r[t.dt_txt].high),low:Math.round(r[t.dt_txt].low),status:t.weather[0].description,statusIcon:z(t.weather[0].icon,e)}}))}function L(t){return{location:t.name,temperature:Math.round(t.main.temp),feelsLike:Math.round(t.main.feels_like),status:t.weather[0].description,statusIcon:z(t.weather[0].icon)}}function M(t){return C.apply(this,arguments)}function C(){return(C=Object(h.a)(o.a.mark((function t(e){var r,n,a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T();case 2:return r=t.sent,n=r.lat,a=r.lon,c=new URLSearchParams({lat:n,lon:a,units:"imperial",appid:m}).toString(),t.abrupt("return","https://".concat(e,"?").concat(c));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(t,e){var r=new URLSearchParams({q:e,units:"imperial",appid:m}).toString();return"https://".concat(t,"?").concat(r)}function T(){if(navigator.geolocation)return new Promise((function(t,e){navigator.geolocation.getCurrentPosition((function(e){t({lat:e.coords.latitude,lon:e.coords.longitude})}))}));alert("Your browser does not support geolocation")}function q(t){var e=new Date(t).toDateString();return e.substr(0,e.length-5)}function z(t,e){0!==e&&(t="".concat(t.substr(0,2),"d"));var r="".concat(t,"@2x.png");return"http://".concat("openweathermap.org/img/wn","/").concat(r)}var B={getData:function(t){return g.apply(this,arguments)}},H=r(1);function J(t){var e=t.setWeather,r=Object(n.useState)(""),a=Object(s.a)(r,2),c=a[0],i=a[1],u=Object(n.useState)(void 0),d=Object(s.a)(u,2),j=d[0],f=d[1];function b(){return(b=Object(h.a)(o.a.mark((function t(r){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.next=3,B.getData(c);case 3:(n=t.sent).message?f(n.message):(e(n),i(""));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(H.jsxs)("div",{className:"pb-5",children:[Object(H.jsx)("h3",{className:"text-center c-primary",children:"Where do you want to check the weather?"}),Object(H.jsx)(p.a,{className:"pt-4",onSubmit:function(t){return b.apply(this,arguments)},children:Object(H.jsxs)(p.a.Group,{children:[Object(H.jsx)(p.a.Label,{className:"d-block text-center c-secondary",children:"Enter a city"}),Object(H.jsx)(p.a.Control,{type:"text",value:c,onChange:function(t){i(t.target.value),f(void 0)},required:!0,isInvalid:j}),Object(H.jsx)(p.a.Control.Feedback,{type:"invalid",children:j}),Object(H.jsx)("div",{className:"d-flex justify-content-center pt-4",children:Object(H.jsx)(l.a,{className:"primary-button",type:"submit",children:"Search"})})]})})]})}var R=r(13);function U(t){var e=t.todayWeather;return Object(H.jsxs)("div",{children:[Object(H.jsx)(R.a,{className:"justify-content-center pt-5",children:Object(H.jsx)("h2",{className:"c-primary",children:e.location})}),Object(H.jsxs)(R.a,{className:"flex-column align-items-center pb-5",children:[Object(H.jsx)("div",{children:Object(H.jsx)("img",{src:e.statusIcon})}),Object(H.jsxs)("h6",{className:"c-primary",children:["It's currently ",e.temperature,"\xb0F outside"]}),Object(H.jsxs)("h6",{className:"c-primary",children:["Feels like ",e.feelsLike,"\xb0"]}),Object(H.jsx)("h6",{className:"c-secondary",children:e.status})]})]})}var A=r(10),G=r(16);function Y(t){var e=t.dailyWeather,r=function(){var t=Object(n.useState)({width:void 0,height:void 0}),e=Object(s.a)(t,2),r=e[0],a=e[1];return Object(n.useEffect)((function(){function t(){a({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",t),t(),function(){return window.removeEventListener("resize",t)}}),[]),r}();return Object(H.jsxs)("div",{children:[Object(H.jsx)("h3",{className:"text-center c-primary",children:"Five-day Forecast"}),r.width>=992?Object(H.jsx)(R.a,{className:"justify-content-around py-5",children:e.map((function(t,e){return Object(H.jsxs)(n.Fragment,{children:[Object(H.jsx)(G.a,{md:12,lg:2,children:Object(H.jsx)(K,{weather:t})}),e<4&&Object(H.jsx)("div",{className:"weather-card-v-separator"})]},"day-".concat(e))}))}):Object(H.jsxs)("div",{className:"py-5",children:[Object(H.jsx)("hr",{className:"weather-card-h-separator"}),e.map((function(t,e){return Object(H.jsxs)(n.Fragment,{children:[Object(H.jsx)(K,{weather:t}),e<4&&Object(H.jsx)("hr",{className:"weather-card-h-separator"})]},"day-".concat(e))}))]})]})}function K(t){var e=t.weather;return Object(H.jsxs)(A.a,{className:"weather-card",children:[Object(H.jsx)(A.a.Img,{variant:"top",src:e.statusIcon}),Object(H.jsxs)(A.a.Body,{children:[Object(H.jsx)(A.a.Title,{className:"c-primary",children:e.date}),Object(H.jsxs)(A.a.Text,{className:"c-primary",children:[e.high,"\xb0/",e.low,"\xb0"]}),Object(H.jsx)(A.a.Text,{className:"c-secondary",children:e.status})]})]})}function Q(t){var e=t.weather,r=e.todayWeather,n=e.dailyWeather,a=t.setWeather;return Object(H.jsxs)(i.a,{children:[Object(H.jsx)(U,{todayWeather:r}),Object(H.jsx)(Y,{dailyWeather:n}),Object(H.jsx)(J,{setWeather:a})]})}r(35);var V=function(){var t=Object(n.useState)(void 0),e=Object(s.a)(t,2),r=e[0],a=e[1];return Object(n.useEffect)((function(){B.getData().then((function(t){return a(t)}))}),[]),r?Object(H.jsx)(Q,{weather:r,setWeather:a}):Object(H.jsx)("div",{})};c.a.render(Object(H.jsx)(V,{}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.16989265.chunk.js.map